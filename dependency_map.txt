INTERNAL DEPENDENCY MAP
=======================

LEVEL 0 - Foundation (No Internal Dependencies)
------------------------------------------------
src/utils/config_loader.py
src/utils/logging_utils.py
src/utils/seed_utils.py


LEVEL 1 - Basic Utilities
--------------------------
src/utils/wandb_utils.py
  -> src/utils/logging_utils.py

src/utils/checkpoint_utils.py
  -> src/utils/logging_utils.py

src/data/tokenization.py
  -> src/utils/config_loader.py

src/evaluation/metrics.py
  (no internal dependencies)


LEVEL 2 - Data & Model Layer
-----------------------------
src/data/dataset_loader.py
  -> src/data/tokenization.py
  -> src/utils/config_loader.py
  -> src/utils/logging_utils.py

src/data/data_collator.py
  -> src/data/tokenization.py

src/models/model_factory.py
  -> src/utils/config_loader.py
  -> src/utils/logging_utils.py

src/models/lora_adapter.py
  -> src/utils/config_loader.py
  -> src/utils/logging_utils.py

src/evaluation/length_bucketing.py
  -> src/evaluation/metrics.py

src/training/optimization.py
  -> src/utils/config_loader.py

src/inference/generator.py
  -> src/models/model_factory.py
  -> src/utils/logging_utils.py


LEVEL 3 - Advanced Components
------------------------------
src/evaluation/evaluator.py
  -> src/evaluation/metrics.py
  -> src/evaluation/length_bucketing.py
  -> src/utils/logging_utils.py
  -> src/utils/wandb_utils.py

src/inference/benchmark.py
  -> src/inference/generator.py
  -> src/utils/logging_utils.py

src/training/callbacks.py
  -> src/utils/checkpoint_utils.py
  -> src/utils/wandb_utils.py
  -> src/utils/logging_utils.py


LEVEL 4 - Core Training (Most Dependencies)
--------------------------------------------
src/training/trainer.py
  -> src/data/data_collator.py
  -> src/models/model_factory.py
  -> src/models/lora_adapter.py
  -> src/evaluation/evaluator.py
  -> src/training/optimization.py
  -> src/training/callbacks.py
  -> src/utils/wandb_utils.py
  -> src/utils/checkpoint_utils.py
  -> src/utils/logging_utils.py


LEVEL 5 - Scripts (Top Level)
------------------------------
scripts/prepare_datasets.py
  -> src/data/dataset_loader.py
  -> src/utils/config_loader.py
  -> src/utils/logging_utils.py

scripts/train.py
  -> src/training/trainer.py
  -> src/data/dataset_loader.py
  -> src/data/data_collator.py
  -> src/models/model_factory.py
  -> src/models/lora_adapter.py
  -> src/utils/config_loader.py
  -> src/utils/wandb_utils.py
  -> src/utils/seed_utils.py
  -> src/utils/logging_utils.py

scripts/evaluate.py
  -> src/evaluation/evaluator.py
  -> src/data/dataset_loader.py
  -> src/models/model_factory.py
  -> src/utils/checkpoint_utils.py
  -> src/utils/config_loader.py
  -> src/utils/logging_utils.py

scripts/inference.py
  -> src/inference/generator.py
  -> src/models/model_factory.py
  -> src/utils/checkpoint_utils.py
  -> src/utils/config_loader.py

scripts/benchmark_inference.py
  -> src/inference/benchmark.py
  -> src/models/model_factory.py
  -> src/utils/checkpoint_utils.py
  -> src/utils/config_loader.py
  -> src/utils/logging_utils.py

scripts/sweep.py
  -> src/training/trainer.py
  -> src/utils/wandb_utils.py
  -> src/utils/config_loader.py
  -> src/utils/seed_utils.py
  -> src/utils/logging_utils.py


QUICK REFERENCE - WHO USES WHO
===============================

config_loader.py is used by:
  - tokenization.py
  - dataset_loader.py
  - model_factory.py
  - lora_adapter.py
  - optimization.py
  - All scripts

logging_utils.py is used by:
  - wandb_utils.py
  - checkpoint_utils.py
  - dataset_loader.py
  - model_factory.py
  - lora_adapter.py
  - evaluator.py
  - generator.py
  - benchmark.py
  - callbacks.py
  - trainer.py
  - Most scripts

wandb_utils.py is used by:
  - evaluator.py
  - callbacks.py
  - trainer.py
  - train.py
  - sweep.py

checkpoint_utils.py is used by:
  - callbacks.py
  - trainer.py
  - evaluate.py
  - inference.py
  - benchmark_inference.py

model_factory.py is used by:
  - lora_adapter.py
  - generator.py
  - trainer.py
  - All main scripts

trainer.py is used by:
  - train.py
  - sweep.py


SAFE MODIFICATION ORDER
========================
1. Start with Level 0 (utils foundation)
2. Then Level 1 (basic utilities)
3. Then Level 2 (data & models)
4. Then Level 3 (evaluation & inference)
5. Then Level 4 (trainer)
6. Finally Level 5 (scripts)

Never modify higher levels before lower levels are stable!


TESTING ORDER
=============
1. test_config_loader
2. test_logging_utils
3. test_data_loading
4. test_model_init
5. test_metrics
6. test_training_loop


IMPORT RULES
============
- Level N can only import from Level < N
- No circular dependencies
- Scripts can import from any src/ module
- src/ modules cannot import from scripts/